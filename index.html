<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">index</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="quarto" class="level2">
<h2 class="anchored" data-anchor-id="quarto">Quarto</h2>
<p>Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <a href="https://quarto.org" class="uri">https://quarto.org</a>.</p>
</section>
<section id="running-code" class="level2">
<h2 class="anchored" data-anchor-id="running-code">Running Code</h2>
<p>When you click the <strong>Render</strong> button a document will be generated that includes both content and the output of embedded code. You can embed code like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I load the packages that I may need. </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr) </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#file.choose() found the directory path for each file</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>LIED <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"https://github.com/DACSS-690/Week-One-Assignment/raw/refs/heads/main/Data/LIED_6.6.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Expecting numeric in D5961 / R5961C4: got '¨2023'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Freedom_House <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"https://github.com/DACSS-690/Week-One-Assignment/raw/refs/heads/main/Data/Freedom_House_Data_from_2003_to_2020.xlsx"</span>, <span class="at">which=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...20`
• `` -&gt; `...21`
• `` -&gt; `...22`
• `` -&gt; `...23`
• `` -&gt; `...24`
• `` -&gt; `...25`
• `` -&gt; `...26`
• `` -&gt; `...27`
• `` -&gt; `...28`
• `` -&gt; `...29`
• `` -&gt; `...30`
• `` -&gt; `...31`
• `` -&gt; `...32`
• `` -&gt; `...33`
• `` -&gt; `...34`
• `` -&gt; `...35`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>Freedom_House_2 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"https://github.com/DACSS-690/Week-One-Assignment/raw/refs/heads/main/Data/Freedom_House_Data_from_2003_to_2020.xlsx"</span>, <span class="at">which=</span><span class="dv">3</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(LIED)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       countryn cow vdem year region male_suffrage female_suffrage
1 United States   2   20 1789      2             0               0
2 United States   2   20 1790      2             0               0
3 United States   2   20 1791      2             0               0
4 United States   2   20 1792      2             0               0
5 United States   2   20 1793      2             0               0
6 United States   2   20 1794      2             0               0
  executive_elections legislative_elections multi-party_legislative_elections
1                   1                     1                                 1
2                   1                     1                                 1
3                   1                     1                                 1
4                   1                     1                                 1
5                   1                     1                                 1
6                   1                     1                                 1
  competitive_elections lexical_index political_liberties lexical_index_plus
1                     1             4                   0                  4
2                     1             4                   0                  4
3                     1             4                   0                  4
4                     1             4                   0                  4
5                     1             4                   0                  4
6                     1             4                   0                  4
  democratic_transition transition_type democratic_breakdown breakdown_type
1                     1               3                    0              0
2                     0               0                    0              0
3                     0               0                    0              0
4                     0               0                    0              0
5                     0               0                    0              0
6                     0               0                    0              0
  turnover_period turnover_event two_turnover_period sovereign
1               0              0                   0         1
2               0              0                   0         1
3               0              0                   0         1
4               0              0                   0         1
5               0              0                   0         1
6               0              0                   0         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Freedom_House)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Country/Territory  Region C/T? Edition Status PR Rating CL Rating  A  B  C
1          Abkhazia Eurasia    t    2020     PF         5         5  5  8  4
2       Afghanistan    Asia    c    2020     NF         5         6  3  7  3
3           Albania  Europe    c    2020     PF         3         3  8 12  7
4           Algeria    MENA    c    2020     NF         6         5  3  4  3
5           Andorra  Europe    c    2020      F         1         1 12 15 12
6            Angola     SSA    c    2020     NF         6         5  3  6  2
  Add Q Add A PR  D  E  F  G CL Total ...20 ...21 ...22 ...23 ...24 ...25 ...26
1     0   N/A 17  8  6  4  5 23    40    NA    NA    NA    NA    NA    NA    NA
2     0   N/A 13  6  4  2  2 14    27    NA    NA    NA    NA    NA    NA    NA
3     0   N/A 27 13  9  9  9 40    67    NA    NA    NA    NA    NA    NA    NA
4     0   N/A 10  7  4  6  7 24    34    NA    NA    NA    NA    NA    NA    NA
5     0   N/A 39 14 11 15 15 55    94    NA    NA    NA    NA    NA    NA    NA
6     0   N/A 11  7  6  5  3 21    32    NA    NA    NA    NA    NA    NA    NA
  ...27 ...28 ...29 ...30 ...31 ...32 ...33 ...34 ...35  x
1    NA    NA    NA    NA    NA    NA    NA    NA    NA NA
2    NA    NA    NA    NA    NA    NA    NA    NA    NA NA
3    NA    NA    NA    NA    NA    NA    NA    NA    NA NA
4    NA    NA    NA    NA    NA    NA    NA    NA    NA NA
5    NA    NA    NA    NA    NA    NA    NA    NA    NA NA
6    NA    NA    NA    NA    NA    NA    NA    NA    NA NA</code></pre>
</div>
</div>
<p>You can add options to executable code like this</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Cleaning LIED Dataset </span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># I start the cleaning by checking the type of characters in this dataset. All of the columns with data are numeric; obviously the countryn column is character.  </span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(LIED)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   32692 obs. of  22 variables:
 $ countryn                         : chr  "United States" "United States" "United States" "United States" ...
 $ cow                              : num  2 2 2 2 2 2 2 2 2 2 ...
 $ vdem                             : num  20 20 20 20 20 20 20 20 20 20 ...
 $ year                             : num  1789 1790 1791 1792 1793 ...
 $ region                           : num  2 2 2 2 2 2 2 2 2 2 ...
 $ male_suffrage                    : num  0 0 0 0 0 0 0 0 0 0 ...
 $ female_suffrage                  : num  0 0 0 0 0 0 0 0 0 0 ...
 $ executive_elections              : num  1 1 1 1 1 1 1 1 1 1 ...
 $ legislative_elections            : num  1 1 1 1 1 1 1 1 1 1 ...
 $ multi-party_legislative_elections: num  1 1 1 1 1 1 1 1 1 1 ...
 $ competitive_elections            : num  1 1 1 1 1 1 1 1 1 1 ...
 $ lexical_index                    : num  4 4 4 4 4 4 4 4 4 4 ...
 $ political_liberties              : num  0 0 0 0 0 0 0 0 0 0 ...
 $ lexical_index_plus               : num  4 4 4 4 4 4 4 4 4 4 ...
 $ democratic_transition            : num  1 0 0 0 0 0 0 0 0 0 ...
 $ transition_type                  : num  3 0 0 0 0 0 0 0 0 0 ...
 $ democratic_breakdown             : num  0 0 0 0 0 0 0 0 0 0 ...
 $ breakdown_type                   : num  0 0 0 0 0 0 0 0 0 0 ...
 $ turnover_period                  : num  0 0 0 0 0 0 0 0 0 0 ...
 $ turnover_event                   : num  0 0 0 0 0 0 0 0 0 0 ...
 $ two_turnover_period              : num  0 0 0 0 0 0 0 0 0 0 ...
 $ sovereign                        : num  1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#They're all numeric except country which is a character string. This is a good sign. </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#I check for NAs. </span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(LIED)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                         countryn                               cow 
                                0                                 0 
                             vdem                              year 
                              416                                 1 
                           region                     male_suffrage 
                                0                                 0 
                  female_suffrage               executive_elections 
                                0                                 0 
            legislative_elections multi-party_legislative_elections 
                                0                                 0 
            competitive_elections                     lexical_index 
                                0                                 0 
              political_liberties                lexical_index_plus 
                                0                                 0 
            democratic_transition                   transition_type 
                                0                                 0 
             democratic_breakdown                    breakdown_type 
                                0                                 0 
                  turnover_period                    turnover_event 
                                0                                 0 
              two_turnover_period                         sovereign 
                                0                                 0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># I found that almost all of the NAs are in "V-Dem" column that I will not use and 1 NA exists in the YEAR column which is odd. </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#I wanted to confirm which row in the column Year had a "NA"  </span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>LIED_NA_Year <span class="ot">&lt;-</span> LIED[<span class="sc">!</span><span class="fu">complete.cases</span>(LIED<span class="sc">$</span>year),] </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#I created a dataframe and determined it was for CHILE which I will not use when subset the data. This confirms it was likely an error by the creator of the dataset. </span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">#This removes any whitespace in the country column</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>LIED<span class="sc">$</span>countryn<span class="ot">=</span><span class="fu">trimws</span>(LIED<span class="sc">$</span>countryn, <span class="at">whitespace =</span> <span class="st">"[</span><span class="sc">\\</span><span class="st">h</span><span class="sc">\\</span><span class="st">v]"</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Now clean file </span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>nowClean_LEAD <span class="ot">&lt;-</span> LIED</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>folder <span class="ot">&lt;-</span> <span class="st">"DataCleanAndFormatted"</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co">#check if the folder exists </span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(folder)) {</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create folder </span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(folder)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(nowClean_LEAD,<span class="fu">file.path</span>(folder, <span class="st">"nowClean_LEAD.csv"</span>), <span class="at">row.names =</span> F)</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(nowClean_LEAD,<span class="fu">file.path</span>(folder, <span class="st">"nowClean_LEAD.csv"</span>), <span class="at">row.names =</span> F)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Formatting LIED dataset</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Import saved .csv file</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>LIED_import <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"https://github.com/dftorres1984/Assignment_Two/raw/refs/heads/main/DataCleanAndFormatted/nowClean_LEAD.csv"</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#check the imported file</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(LIED_import)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   32692 obs. of  23 variables:
 $ V1                               : int  1 2 3 4 5 6 7 8 9 10 ...
 $ countryn                         : chr  "United States" "United States" "United States" "United States" ...
 $ cow                              : int  2 2 2 2 2 2 2 2 2 2 ...
 $ vdem                             : int  20 20 20 20 20 20 20 20 20 20 ...
 $ year                             : int  1789 1790 1791 1792 1793 1794 1795 1796 1797 1798 ...
 $ region                           : int  2 2 2 2 2 2 2 2 2 2 ...
 $ male_suffrage                    : int  0 0 0 0 0 0 0 0 0 0 ...
 $ female_suffrage                  : int  0 0 0 0 0 0 0 0 0 0 ...
 $ executive_elections              : int  1 1 1 1 1 1 1 1 1 1 ...
 $ legislative_elections            : int  1 1 1 1 1 1 1 1 1 1 ...
 $ multi-party_legislative_elections: int  1 1 1 1 1 1 1 1 1 1 ...
 $ competitive_elections            : int  1 1 1 1 1 1 1 1 1 1 ...
 $ lexical_index                    : int  4 4 4 4 4 4 4 4 4 4 ...
 $ political_liberties              : int  0 0 0 0 0 0 0 0 0 0 ...
 $ lexical_index_plus               : int  4 4 4 4 4 4 4 4 4 4 ...
 $ democratic_transition            : int  1 0 0 0 0 0 0 0 0 0 ...
 $ transition_type                  : int  3 0 0 0 0 0 0 0 0 0 ...
 $ democratic_breakdown             : int  0 0 0 0 0 0 0 0 0 0 ...
 $ breakdown_type                   : int  0 0 0 0 0 0 0 0 0 0 ...
 $ turnover_period                  : int  0 0 0 0 0 0 0 0 0 0 ...
 $ turnover_event                   : int  0 0 0 0 0 0 0 0 0 0 ...
 $ two_turnover_period              : int  0 0 0 0 0 0 0 0 0 0 ...
 $ sovereign                        : int  1 1 1 1 1 1 1 1 1 1 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I rename columns like "countryn" as country_name and capitalize the following columns: year, male_suffrage, female_suffrage, political_liberties, democratic_breakdown, and sovereign.     </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>LIED_Updated <span class="ot">&lt;-</span> LIED_import <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Country =</span> countryn, <span class="at">Year =</span> year, <span class="at">Male_Suffrage =</span> male_suffrage, <span class="at">Female_Suffrage =</span> female_suffrage, <span class="at">Political_Liberties =</span> political_liberties, <span class="at">Democratic_Breakdown =</span> democratic_breakdown, <span class="at">Sovereign =</span> sovereign)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#I select columns "countryn" "male_suffrage" "female_suffrage" "political_liberties" "democratic_breakdown" "sovereign" </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>LIED_Updated <span class="ot">&lt;-</span> LIED_Updated <span class="sc">%&gt;%</span> <span class="fu">select</span>(Country, Year, Male_Suffrage, Female_Suffrage, Political_Liberties, Democratic_Breakdown, Sovereign)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#I subset the df by filtering "Country_Name" for all major EU countries, USA, Canada, Japan, South Korea, New Zealand, and Australia and for years 2003 to 2020. I selected these years because all three datasets have data for these years. </span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>LIED_Updated <span class="ot">&lt;-</span> LIED_Updated <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">Country</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Greece"</span>, <span class="st">"Italy"</span>, <span class="st">"Austria"</span>, <span class="st">"United States"</span>, <span class="st">"Korea, South"</span>, <span class="st">"Portugal"</span>, <span class="st">"Japan"</span>, <span class="st">"Belgium"</span>, <span class="st">"Czech Republic"</span>, <span class="st">"Czechoslovakia"</span>, <span class="st">"Spain"</span>, <span class="st">"United Kingdom"</span>, <span class="st">"Canada"</span>, <span class="st">"France"</span>, <span class="st">"Iceland"</span>, <span class="st">"Australia"</span>, <span class="st">"Germany"</span>, <span class="st">"Netherlands"</span>, <span class="st">"Ireland"</span>, <span class="st">"Finland"</span>, <span class="st">"Switzerland"</span>, <span class="st">"New Zealand"</span>, <span class="st">"Denmark"</span>, <span class="st">"Sweden"</span>, <span class="st">"Norway"</span>, <span class="st">"Hungary"</span>, <span class="st">"Poland"</span>, <span class="st">"Slovakia"</span>, <span class="st">"Estonia"</span>, <span class="st">"Latvia"</span>, <span class="st">"Lithuania"</span>, <span class="st">"Slovenia"</span>, <span class="st">"Cyprus"</span>, <span class="st">"Malta"</span>, <span class="st">"Bulgaria"</span>, <span class="st">"Romania"</span>, <span class="st">"Croatia"</span>) <span class="sc">&amp;</span> Year <span class="sc">&gt;=</span> <span class="dv">2003</span> <span class="sc">&amp;</span> Year <span class="sc">&lt;=</span> <span class="dv">2020</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">#checking for NAs in the formatted dataset LIED to make sure they're all gone</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(LIED_Updated))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             Country                 Year        Male_Suffrage 
                   0                    0                    0 
     Female_Suffrage  Political_Liberties Democratic_Breakdown 
                   0                    0                    0 
           Sovereign 
                   0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>Formatted_LIED <span class="ot">&lt;-</span> LIED_Updated</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>folder <span class="ot">&lt;-</span> <span class="st">"DataCleanAndFormatted"</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#check if the folder exists </span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(folder)) {</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create folder </span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(folder)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(Formatted_LIED,<span class="fu">file.path</span>(folder, <span class="st">"Formatted_LIED.RDS"</span>))</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(Formatted_LIED,<span class="fu">file.path</span>(folder, <span class="st">"Formatted_LIED.RDS"</span>))}  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Cleaning Freedom_House_Two dataset</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#My cleaning starts with a check of the type of data in each column. The columns with numeric data are characters. </span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Freedom_House_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   207 obs. of  11 variables:
 $ Country/Territory: chr  "Abkhazia" "Afghanistan" "Albania" "Algeria" ...
 $ C/T?             : chr  "t" "c" "c" "c" ...
 $ FIW03 PR         : chr  "9" "8" "26" "11" ...
 $ FIW04 PR         : chr  "9" "9" "26" "11" ...
 $ FIW05 PR         : chr  "9" "13" "26" "10" ...
 $ FIW03 CL         : chr  "20" "15" "42" "22" ...
 $ FIW04 CL         : chr  "21" "14" "42" "22" ...
 $ FIW05 CL         : chr  "21" "14" "40" "25" ...
 $ FIW03 Total      : chr  "29" "23" "68" "33" ...
 $ FIW04 Total      : chr  "30" "23" "68" "33" ...
 $ FIW05 Total      : chr  "30" "27" "66" "35" ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I then want to check the NAs. There are no NAs.  </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(Freedom_House_2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Country/Territory              C/T?          FIW03 PR          FIW04 PR 
                0                 0                 0                 0 
         FIW05 PR          FIW03 CL          FIW04 CL          FIW05 CL 
                0                 0                 0                 0 
      FIW03 Total       FIW04 Total       FIW05 Total 
                0                 0                 0 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I want to check if the numbers in the column are actual numbers </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW03 PR</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-2" "-" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW04 PR</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW05 PR</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-1" "-2" "-2" "-" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW03 CL</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW04 CL</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW05 CL</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW03 Total</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-1" "-" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW04 Total</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">D"</span>, Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">FIW05 Total</span><span class="st">`</span>, <span class="at">value =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "-"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co">#The search found the negative numbers and dashes "-". According to the Freedom House webiste, negative numbers were reserved for countries with very low Political Rights scores. All dashes were converted to NAs.   </span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>Clean_Freedom_House_2 <span class="ot">&lt;-</span> Freedom_House_2 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(<span class="st">`</span><span class="at">FIW03 PR</span><span class="st">`</span>,<span class="st">`</span><span class="at">FIW04 PR</span><span class="st">`</span>,<span class="st">`</span><span class="at">FIW05 PR</span><span class="st">`</span>, <span class="st">`</span><span class="at">FIW03 CL</span><span class="st">`</span>,<span class="st">`</span><span class="at">FIW04 CL</span><span class="st">`</span>, <span class="st">`</span><span class="at">FIW05 CL</span><span class="st">`</span>, <span class="st">`</span><span class="at">FIW03 Total</span><span class="st">`</span>, <span class="st">`</span><span class="at">FIW04 Total</span><span class="st">`</span>,<span class="st">`</span><span class="at">FIW05 Total</span><span class="st">`</span>), <span class="sc">~</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(.))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There were 9 warnings in `mutate()`.
The first warning was:
ℹ In argument: `across(...)`.
Caused by warning:
! NAs introduced by coercion
ℹ Run `dplyr::last_dplyr_warnings()` to see the 8 remaining warnings.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I wanted to make sure there are no whitespaces in the country column</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">Country/Territory</span><span class="st">`</span><span class="ot">=</span><span class="fu">trimws</span>(Freedom_House_2<span class="sc">$</span><span class="st">`</span><span class="at">Country/Territory</span><span class="st">`</span>, <span class="at">whitespace =</span> <span class="st">"[</span><span class="sc">\\</span><span class="st">h</span><span class="sc">\\</span><span class="st">v]"</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co">#I checked if I converted the data columns to numeric.</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(Clean_Freedom_House_2, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Country/Territory              C/T?          FIW03 PR          FIW04 PR 
      "character"       "character"         "numeric"         "numeric" 
         FIW05 PR          FIW03 CL          FIW04 CL          FIW05 CL 
        "numeric"         "numeric"         "numeric"         "numeric" 
      FIW03 Total       FIW04 Total       FIW05 Total 
        "numeric"         "numeric"         "numeric" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>folder <span class="ot">&lt;-</span> <span class="st">"DataCleanAndFormatted"</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co">#check if the folder exists </span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(folder)) {</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create folder </span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(folder)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(Clean_Freedom_House_2,<span class="fu">file.path</span>(folder, <span class="st">"CleanData_Freedom_House_2.csv"</span>), <span class="at">row.names =</span> F)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(Clean_Freedom_House_2,<span class="fu">file.path</span>(folder, <span class="st">"Clean_Freedom_House_2.csv"</span>), <span class="at">row.names =</span> F)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Formatting Freedom_House_2 Dataset</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Import the clean data </span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>Freedom_House_2_import <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"https://github.com/dftorres1984/Assignment_Two/raw/refs/heads/main/DataCleanAndFormatted/Clean_Freedom_House_2.csv"</span>)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co">#I check the imported file and it looks correct.  </span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Freedom_House_2_import)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   207 obs. of  12 variables:
 $ V1               : int  1 2 3 4 5 6 7 8 9 10 ...
 $ Country/Territory: chr  "Abkhazia" "Afghanistan" "Albania" "Algeria" ...
 $ C/T?             : chr  "t" "c" "c" "c" ...
 $ FIW03 PR         : int  9 8 26 11 39 8 18 24 20 39 ...
 $ FIW04 PR         : int  9 9 26 11 39 7 19 35 20 39 ...
 $ FIW05 PR         : int  9 13 26 10 39 8 30 35 16 39 ...
 $ FIW03 CL         : int  20 15 42 22 57 22 47 41 34 57 ...
 $ FIW04 CL         : int  21 14 42 22 58 22 46 46 32 57 ...
 $ FIW05 CL         : int  21 14 40 25 58 22 47 48 28 57 ...
 $ FIW03 Total      : int  29 23 68 33 96 30 65 65 54 96 ...
 $ FIW04 Total      : int  30 23 68 33 97 29 65 81 52 96 ...
 $ FIW05 Total      : int  30 27 66 35 97 30 77 83 44 96 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># I want to change "Country/Territory" to "Country" and rename the other columns  </span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>Formatted_Freedom_House_2 <span class="ot">&lt;-</span> Freedom_House_2_import <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Country =</span> <span class="st">"Country/Territory"</span>, <span class="at">Political_Rights_2003 =</span> <span class="st">`</span><span class="at">FIW03 PR</span><span class="st">`</span>, <span class="at">Political_Rights_2004 =</span> <span class="st">`</span><span class="at">FIW04 PR</span><span class="st">`</span>, <span class="at">Political_Rights_2005 =</span> <span class="st">`</span><span class="at">FIW05 PR</span><span class="st">`</span>, <span class="at">Civil_Liberties_2003 =</span> <span class="st">`</span><span class="at">FIW03 CL</span><span class="st">`</span>, <span class="at">Civil_Liberties_2004 =</span> <span class="st">`</span><span class="at">FIW04 CL</span><span class="st">`</span>, <span class="at">Civil_Liberties_2005 =</span> <span class="st">`</span><span class="at">FIW05 CL</span><span class="st">`</span>, <span class="at">Total_Score_2003 =</span> <span class="st">`</span><span class="at">FIW03 Total</span><span class="st">`</span>, <span class="at">Total_Score_2004 =</span> <span class="st">`</span><span class="at">FIW04 Total</span><span class="st">`</span>, <span class="at">Total_Score_2005 =</span> <span class="st">`</span><span class="at">FIW05 Total</span><span class="st">`</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co">#I want to eliminate the "C/T?" column </span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>Formatted_Freedom_House_2 <span class="ot">&lt;-</span> <span class="fu">subset</span>(Formatted_Freedom_House_2, <span class="at">select =</span> <span class="sc">-</span><span class="st">`</span><span class="at">C/T?</span><span class="st">`</span>)</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Filter the countries to match the countries in LIED database.  </span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>Formatted_Freedom_House_2 <span class="ot">&lt;-</span> Formatted_Freedom_House_2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Greece"</span>, <span class="st">"Italy"</span>, <span class="st">"Austria"</span>, <span class="st">"United States"</span>, <span class="st">"South Korea"</span>, <span class="st">"Portugal"</span>, <span class="st">"Japan"</span>, <span class="st">"Belgium"</span>, <span class="st">"Czech Republic"</span>, <span class="st">"Spain"</span>, <span class="st">"United Kingdom"</span>, <span class="st">"Canada"</span>, <span class="st">"France"</span>, <span class="st">"Iceland"</span>, <span class="st">"Australia"</span>, <span class="st">"Germany"</span>, <span class="st">"Netherlands"</span>, <span class="st">"Ireland"</span>, <span class="st">"Finland"</span>, <span class="st">"Switzerland"</span>, <span class="st">"New Zealand"</span>, <span class="st">"Denmark"</span>, <span class="st">"Sweden"</span>, <span class="st">"Norway"</span>, <span class="st">"Hungary"</span>, <span class="st">"Poland"</span>, <span class="st">"Slovakia"</span>, <span class="st">"Estonia"</span>, <span class="st">"Latvia"</span>, <span class="st">"Lithuania"</span>, <span class="st">"Slovenia"</span>, <span class="st">"Cyprus"</span>, <span class="st">"Malta"</span>, <span class="st">"Bulgaria"</span>, <span class="st">"Romania"</span>, <span class="st">"Croatia"</span>))</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Confirming that the columns of data are numeric and not character</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Formatted_Freedom_House_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   36 obs. of  11 variables:
 $ V1                   : int  10 11 18 27 32 45 47 48 49 58 ...
 $ Country              : chr  "Australia" "Austria" "Belgium" "Bulgaria" ...
 $ Political_Rights_2003: int  39 40 39 36 39 31 39 37 40 37 ...
 $ Political_Rights_2004: int  39 40 40 36 40 31 39 37 40 37 ...
 $ Political_Rights_2005: int  39 40 39 36 39 34 39 37 40 38 ...
 $ Civil_Liberties_2003 : int  57 58 56 50 57 49 57 47 59 50 ...
 $ Civil_Liberties_2004 : int  57 59 59 50 59 48 57 52 59 52 ...
 $ Civil_Liberties_2005 : int  57 59 59 51 59 48 57 56 59 55 ...
 $ Total_Score_2003     : int  96 98 95 86 96 80 96 84 99 87 ...
 $ Total_Score_2004     : int  96 99 99 86 99 79 96 89 99 89 ...
 $ Total_Score_2005     : int  96 99 98 87 98 82 96 93 99 93 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>folder <span class="ot">&lt;-</span> <span class="st">"DataCleanAndFormatted"</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="co">#check if the folder exists </span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(folder)) {</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create folder </span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(folder)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(Formatted_Freedom_House_2,<span class="fu">file.path</span>(folder, <span class="st">"Formatted_Freedom_House_2.RDS"</span>))</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(Formatted_Freedom_House_2,<span class="fu">file.path</span>(folder, <span class="st">"Formatted_Freedom_House_2.RDS"</span>))}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Data Cleaning Freedom House </span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co">#The type of data looks good. The non-numeric columns are character and the columns with data are all numeric. This is the main dataset used by Freedom House so I'm not surprised that the data quality is high.   </span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Freedom_House)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   3129 obs. of  36 variables:
 $ Country/Territory: chr  "Abkhazia" "Afghanistan" "Albania" "Algeria" ...
 $ Region           : chr  "Eurasia" "Asia" "Europe" "MENA" ...
 $ C/T?             : chr  "t" "c" "c" "c" ...
 $ Edition          : num  2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 ...
 $ Status           : chr  "PF" "NF" "PF" "NF" ...
 $ PR Rating        : num  5 5 3 6 1 6 2 2 4 1 ...
 $ CL Rating        : num  5 6 3 5 1 5 2 2 4 1 ...
 $ A                : num  5 3 8 3 12 3 12 11 6 12 ...
 $ B                : num  8 7 12 4 15 6 13 16 10 16 ...
 $ C                : num  4 3 7 3 12 2 8 8 5 12 ...
 $ Add Q            : num  0 0 0 0 0 0 0 0 0 0 ...
 $ Add A            : chr  "N/A" "N/A" "N/A" "N/A" ...
 $ PR               : num  17 13 27 10 39 11 33 35 21 40 ...
 $ D                : num  8 6 13 7 14 7 15 15 9 15 ...
 $ E                : num  6 4 9 4 11 6 10 11 8 12 ...
 $ F                : num  4 2 9 6 15 5 14 10 6 15 ...
 $ G                : num  5 2 9 7 15 3 13 14 9 15 ...
 $ CL               : num  23 14 40 24 55 21 52 50 32 57 ...
 $ Total            : num  40 27 67 34 94 32 85 85 53 97 ...
 $ ...20            : logi  NA NA NA NA NA NA ...
 $ ...21            : logi  NA NA NA NA NA NA ...
 $ ...22            : logi  NA NA NA NA NA NA ...
 $ ...23            : logi  NA NA NA NA NA NA ...
 $ ...24            : logi  NA NA NA NA NA NA ...
 $ ...25            : logi  NA NA NA NA NA NA ...
 $ ...26            : logi  NA NA NA NA NA NA ...
 $ ...27            : logi  NA NA NA NA NA NA ...
 $ ...28            : logi  NA NA NA NA NA NA ...
 $ ...29            : logi  NA NA NA NA NA NA ...
 $ ...30            : logi  NA NA NA NA NA NA ...
 $ ...31            : logi  NA NA NA NA NA NA ...
 $ ...32            : logi  NA NA NA NA NA NA ...
 $ ...33            : logi  NA NA NA NA NA NA ...
 $ ...34            : logi  NA NA NA NA NA NA ...
 $ ...35            : logi  NA NA NA NA NA NA ...
 $ x                : logi  NA NA NA NA NA NA ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I wanted to make sure there are no whitespaces in the country column</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>Freedom_House<span class="sc">$</span><span class="st">`</span><span class="at">Country/Territory</span><span class="st">`</span><span class="ot">=</span><span class="fu">trimws</span>(Freedom_House<span class="sc">$</span><span class="st">`</span><span class="at">Country/Territory</span><span class="st">`</span>, <span class="at">whitespace =</span> <span class="st">"[</span><span class="sc">\\</span><span class="st">h</span><span class="sc">\\</span><span class="st">v]"</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>Clean_Freedom_House <span class="ot">&lt;-</span> Freedom_House </span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Saving Formatted file</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>folder <span class="ot">&lt;-</span> <span class="st">"DataCleanAndFormatted"</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="co">#check if the folder exists </span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(folder)) {</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create folder </span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(folder)</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(Clean_Freedom_House,<span class="fu">file.path</span>(folder, <span class="st">"Clean_Freedom_House.csv"</span>), <span class="at">row.names =</span> F)</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(Clean_Freedom_House,<span class="fu">file.path</span>(folder, <span class="st">"Clean_Freedom_House.csv"</span>), <span class="at">row.names =</span> F)}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Formatting Freedom_House Dataset</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Import clean Freedom House dataset</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>Freedom_House_import <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"https://github.com/dftorres1984/Assignment_Two/raw/refs/heads/main/DataCleanAndFormatted/Clean_Freedom_House.csv"</span>)  </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="co">#I check the imported dataset</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Freedom_House_import)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   3129 obs. of  37 variables:
 $ V1               : int  1 2 3 4 5 6 7 8 9 10 ...
 $ Country/Territory: chr  "Abkhazia" "Afghanistan" "Albania" "Algeria" ...
 $ Region           : chr  "Eurasia" "Asia" "Europe" "MENA" ...
 $ C/T?             : chr  "t" "c" "c" "c" ...
 $ Edition          : int  2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 ...
 $ Status           : chr  "PF" "NF" "PF" "NF" ...
 $ PR Rating        : int  5 5 3 6 1 6 2 2 4 1 ...
 $ CL Rating        : int  5 6 3 5 1 5 2 2 4 1 ...
 $ A                : int  5 3 8 3 12 3 12 11 6 12 ...
 $ B                : int  8 7 12 4 15 6 13 16 10 16 ...
 $ C                : int  4 3 7 3 12 2 8 8 5 12 ...
 $ Add Q            : int  0 0 0 0 0 0 0 0 0 0 ...
 $ Add A            : chr  "N/A" "N/A" "N/A" "N/A" ...
 $ PR               : int  17 13 27 10 39 11 33 35 21 40 ...
 $ D                : int  8 6 13 7 14 7 15 15 9 15 ...
 $ E                : int  6 4 9 4 11 6 10 11 8 12 ...
 $ F                : int  4 2 9 6 15 5 14 10 6 15 ...
 $ G                : int  5 2 9 7 15 3 13 14 9 15 ...
 $ CL               : int  23 14 40 24 55 21 52 50 32 57 ...
 $ Total            : int  40 27 67 34 94 32 85 85 53 97 ...
 $ ...20            : logi  NA NA NA NA NA NA ...
 $ ...21            : logi  NA NA NA NA NA NA ...
 $ ...22            : logi  NA NA NA NA NA NA ...
 $ ...23            : logi  NA NA NA NA NA NA ...
 $ ...24            : logi  NA NA NA NA NA NA ...
 $ ...25            : logi  NA NA NA NA NA NA ...
 $ ...26            : logi  NA NA NA NA NA NA ...
 $ ...27            : logi  NA NA NA NA NA NA ...
 $ ...28            : logi  NA NA NA NA NA NA ...
 $ ...29            : logi  NA NA NA NA NA NA ...
 $ ...30            : logi  NA NA NA NA NA NA ...
 $ ...31            : logi  NA NA NA NA NA NA ...
 $ ...32            : logi  NA NA NA NA NA NA ...
 $ ...33            : logi  NA NA NA NA NA NA ...
 $ ...34            : logi  NA NA NA NA NA NA ...
 $ ...35            : logi  NA NA NA NA NA NA ...
 $ x                : logi  NA NA NA NA NA NA ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#I'll need to rename "PR" "Political_Rights" CL as "Civil_Liberties" and "Total" as "Total Score" convert "Edition" into "Year"</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>Formatted_Freedom_House <span class="ot">&lt;-</span> Freedom_House_import <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Country =</span> <span class="st">`</span><span class="at">Country/Territory</span><span class="st">`</span>, <span class="at">Year =</span> <span class="st">`</span><span class="at">Edition</span><span class="st">`</span>, <span class="at">Political_Rights =</span> <span class="st">`</span><span class="at">PR</span><span class="st">`</span>, <span class="at">Civil_Liberties =</span> <span class="st">`</span><span class="at">CL</span><span class="st">`</span>, <span class="at">Total_Score =</span> <span class="st">`</span><span class="at">Total</span><span class="st">`</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="co">#I want to keep the major columns "Country", "Year", "Political_Rights" "Civil_Liberties" and "Total_Score" </span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>Formatted_Freedom_House <span class="ot">&lt;-</span> Formatted_Freedom_House <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="st">"Country"</span>, <span class="st">"Year"</span>, <span class="st">"Political_Rights"</span>, <span class="st">"Civil_Liberties"</span>, <span class="st">"Total_Score"</span>)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Filter the countries and years for the same countries used in Freedom_House_2 and LIED  </span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>Formatted_Freedom_House <span class="ot">&lt;-</span> Formatted_Freedom_House <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">Country</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Greece"</span>, <span class="st">"Italy"</span>, <span class="st">"Austria"</span>, <span class="st">"United States"</span>, <span class="st">"South Korea"</span>, <span class="st">"Portugal"</span>, <span class="st">"Japan"</span>, <span class="st">"Belgium"</span>, <span class="st">"Czech Republic"</span>, <span class="st">"Spain"</span>, <span class="st">"United Kingdom"</span>, <span class="st">"Canada"</span>, <span class="st">"France"</span>, <span class="st">"Iceland"</span>, <span class="st">"Australia"</span>, <span class="st">"Germany"</span>, <span class="st">"Netherlands"</span>, <span class="st">"Ireland"</span>, <span class="st">"Finland"</span>, <span class="st">"Switzerland"</span>, <span class="st">"New Zealand"</span>, <span class="st">"Denmark"</span>, <span class="st">"Sweden"</span>, <span class="st">"Norway"</span>, <span class="st">"Hungary"</span>, <span class="st">"Poland"</span>, <span class="st">"Slovakia"</span>, <span class="st">"Estonia"</span>, <span class="st">"Latvia"</span>, <span class="st">"Lithuania"</span>, <span class="st">"Slovenia"</span>, <span class="st">"Cyprus"</span>, <span class="st">"Malta"</span>, <span class="st">"Bulgaria"</span>, <span class="st">"Romania"</span>, <span class="st">"Croatia"</span>) <span class="sc">&amp;</span> Year<span class="sc">&gt;=</span> <span class="dv">2003</span> <span class="sc">&amp;</span> Year<span class="sc">&lt;=</span><span class="dv">2020</span>)</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Checking NAs for Freedom_House_Updated dataframe </span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(Formatted_Freedom_House, class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Country             Year Political_Rights  Civil_Liberties 
     "character"        "integer"        "integer"        "integer" 
     Total_Score 
       "integer" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Saving Formatted file</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>folder <span class="ot">&lt;-</span> <span class="st">"DataCleanAndFormatted"</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="co">#check if the folder exists </span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(folder)) {</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Create folder </span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(folder)</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(Formatted_Freedom_House,<span class="fu">file.path</span>(folder, <span class="st">"Formatted_Freedom_House.RDS"</span>))</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">saveRDS</span>(Formatted_Freedom_House,<span class="fu">file.path</span>(folder, <span class="st">"Formatted_Freedom_House.RDS"</span>))}   </span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Formatted_Freedom_House)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   540 obs. of  5 variables:
 $ Country         : chr  "Australia" "Austria" "Belgium" "Bulgaria" ...
 $ Year            : int  2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 ...
 $ Political_Rights: int  40 37 39 34 40 36 38 36 40 38 ...
 $ Civil_Liberties : int  57 56 57 46 58 49 56 55 57 56 ...
 $ Total_Score     : int  97 93 96 80 98 85 94 91 97 94 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">system</span>(<span class="st">"quarto render Assignment_TWO.qmd --to html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>echo: false</code> option disables the printing of code (only output is displayed).</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>